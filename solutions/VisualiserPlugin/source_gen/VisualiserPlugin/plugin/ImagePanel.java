package VisualiserPlugin.plugin;

/*Generated by MPS */

import javax.swing.JPanel;
import java.awt.Image;
import com.intellij.openapi.project.Project;
import jetbrains.mps.workbench.MPSDataKeys;
import com.intellij.ide.DataManager;
import com.intellij.platform.ProjectBaseDirectory;
import java.awt.Toolkit;
import java.awt.Graphics;

public class ImagePanel extends JPanel {
  private static Image image;
  private static Image rescaledImage;
  public ImagePanel() {
  }
  public void Drawimage() {
    String graphvizpng;
    Project MPSproject = MPSDataKeys.PROJECT.getData(DataManager.getInstance().getDataContext());
    graphvizpng = ProjectBaseDirectory.getInstance(MPSproject).getBaseDir().getCanonicalPath() + "/graphviz/visualiser.png";
    System.out.println("File: " + graphvizpng);
    image = Toolkit.getDefaultToolkit().createImage(graphvizpng);
  }
  @Override
  protected void paintComponent(Graphics g) {
    super.paintComponent(g);
    rescaledImage = image.getScaledInstance(this.getWidth(), this.getHeight(), Image.SCALE_SMOOTH);
    g.drawImage(rescaledImage, 0, 0, null);
  }
}
